# =============================================================================
# McLarens Analytics - Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment

# =============================================================================
# DATABASE
# =============================================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/maclarens_analytics
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=maclarens_analytics

# =============================================================================
# REDIS (for caching, sessions, background jobs)
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# AUTH MODE - CRITICAL SETTING
# =============================================================================
# Options:
#   "dev"   - Use local JWT auth (for development/testing)
#   "entra" - Use Microsoft Entra ID (Azure AD) for production
AUTH_MODE=dev

# JWT Configuration (used when AUTH_MODE=dev)
JWT_SECRET=maclarens-secret-key-CHANGE-IN-PRODUCTION
JWT_EXPIRATION_HOURS=24

# =============================================================================
# MICROSOFT ENTRA ID (Azure AD) - for AUTH_MODE=entra
# =============================================================================
# Register an app in Azure Portal > App registrations
# Required permissions: User.Read
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=

# =============================================================================
# EMAIL SETTINGS
# =============================================================================
# Master on/off switch
EMAIL_ENABLED=true

# Email Provider Options:
#   "disabled" - No emails sent (logging only)
#   "mailhog"  - Local SMTP testing (DEV)
#   "resend"   - Resend API (simple production)
#   "graph"    - Microsoft Graph API (enterprise production)
EMAIL_PROVIDER=mailhog

# Sender email address
SENDER_EMAIL=no-reply@maclarens.local

# -----------------------------------------------------------------------------
# MAILHOG SETTINGS (for EMAIL_PROVIDER=mailhog)
# -----------------------------------------------------------------------------
# MailHog is included in docker-compose.dev.yml
# Web UI: http://localhost:8025
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USE_TLS=false
SMTP_USERNAME=
SMTP_PASSWORD=

# -----------------------------------------------------------------------------
# RESEND SETTINGS (for EMAIL_PROVIDER=resend)
# -----------------------------------------------------------------------------
# Get API key from https://resend.com
RESEND_API_KEY=

# -----------------------------------------------------------------------------
# MICROSOFT GRAPH SETTINGS (for EMAIL_PROVIDER=graph)
# -----------------------------------------------------------------------------
# Uses same Azure App Registration as Entra auth
# Required permission: Mail.Send (Application permission, admin consent needed)
GRAPH_SENDER_EMAIL=notifications@yourtenant.onmicrosoft.com

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
DEBUG=true
ENVIRONMENT=development
APP_URL=http://localhost:3000

# =============================================================================
# FRONTEND
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_GRAPHQL_URL=http://localhost:8000/graphql
NODE_ENV=development

# =============================================================================
# CORS
# =============================================================================
CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]
