# McLarens Analytics API Environment Variables
# Copy this file to .env and update with your values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# For local PostgreSQL (no Docker):
#   Format: postgresql+asyncpg://USERNAME:PASSWORD@HOST:PORT/DATABASE
#   Example: postgresql+asyncpg://finance_user:finance_pass@localhost:5432/maclarens_analytics
DATABASE_URL=postgresql+asyncpg://finance_user:finance_pass@localhost:5432/maclarens_analytics

# ============================================================================
# REDIS CONFIGURATION (Optional - only if using caching)
# ============================================================================
# For local Redis: redis://localhost:6379
# Leave empty if not using Redis
REDIS_URL=redis://localhost:6379

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# Generate a strong secret key (minimum 32 characters)
# Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=local-dev-super-secret-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================================================
# AUTHENTICATION MODE
# ============================================================================
# Options:
#   - dev: Simple email/password auth (for local development)
#   - entra: Microsoft Entra ID (Azure AD) authentication (for production)
AUTH_MODE=dev

# ============================================================================
# MICROSOFT ENTRA ID (Azure AD) - Only needed if AUTH_MODE=entra
# ============================================================================
# Get these values from Azure Portal > App Registrations
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
# For local development with Mailpit (recommended):
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@maclarens.local
SMTP_USE_TLS=false

# For production with Azure Communication Services:
# SMTP_HOST=your-acs-endpoint.azurecomm.net
# SMTP_PORT=587
# SMTP_USER=your-acs-username
# SMTP_PASSWORD=your-acs-password
# SMTP_FROM=noreply@yourdomain.com
# SMTP_USE_TLS=true

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
DEBUG=true
ENVIRONMENT=development
LOG_LEVEL=INFO

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Allowed origins for CORS (JSON array format)
# For local development, include both localhost and 127.0.0.1
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# ============================================================================
# RATE LIMITING (Optional)
# ============================================================================
# Requests per minute per IP
# RATE_LIMIT_PER_MINUTE=100
